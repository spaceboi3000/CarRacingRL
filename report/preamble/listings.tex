\lstdefinestyle{modernPython}{
    language=Python,
    backgroundcolor=\color{codebg},
    frame=single,
    rulecolor=\color{blue!30},
    framerule=1pt,
    basicstyle=\ttfamily\small\color{black},
    keywordstyle=\color{cppblue}\bfseries,
    commentstyle=\color{cppgreen}\itshape,
    stringstyle=\color{cpporange},
    numberstyle=\tiny\color{gray},
    numbers=left,
    numbersep=10pt,
    breaklines=true,
    showstringspaces=false,
    tabsize=4,
    captionpos=b,
    morekeywords={self, def, class, return, import, from, super, nn, Sequential, Linear, Conv2d, ReLU, Flatten, Unflatten, ConvTranspose2d, Sigmoid, ELU},
    emph={__init__, forward},
    emphstyle=\color{cpppurple}\bfseries
}
\lstset{style=modernPython}